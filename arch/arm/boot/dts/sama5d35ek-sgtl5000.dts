/*
 * sama5d35ek.dts - Device Tree file for SAMA5-EK board
 *
 *  Copyright (C) 2012 Atmel,
 *                2012 Ludovic Desroches <ludovic.desroches@atmel.com>
 *
 * Licensed under GPLv2 or later.
 */
/dts-v1/;
/include/ "sama5d3mb.dtsi"

/ {
	model = "Atmel SAMA5D35-EK";
	compatible = "atmel,sama5d35ek", "atmel,sama5ek", "atmel,sama5d3", "atmel,sama5";

	chosen {
		bootargs = "console=ttyS0,115200 mtdparts=atmel_nand:8M(bootstrap/uboot/kernel)ro,-(rootfs) rw rootfstype=ubifs ubi.mtd=1 root=ubi0:rootfs";
	};

	vdda: fixedregulator@0 {
		compatible = "regulator-fixed";
		regulator-name = "VDDA";
		regulator-min-microvolt = <3300000>;
		regulator-max-microvolt = <3300000>;
	};

	vddio: fixedregulator@1 {
		compatible = "regulator-fixed";
		regulator-name = "VDDIO";
		regulator-min-microvolt = <3300000>;
		regulator-max-microvolt = <3300000>;
	};

	vddd: fixedregulator@2 {
		compatible = "regulator-fixed";
		regulator-name = "VDDD";
		regulator-min-microvolt = <1250000>;
		regulator-max-microvolt = <1250000>;
	};

	ahb {
		apb {
			spi0: spi@f0004000 {
				status = "okay";
			};

			can0: can@f000c000 {
				status = "okay";
			};

			i2c0: i2c@f0014000 {
				status = "okay";
			};

			i2c1: i2c@f0018000 {
				status = "okay";

				sgtl5000: sgtl5000@0a {
					compatible = "fsl,sgtl5000";
					reg = <0x0a>;
					clock-frequency = <12000000>;
					pinctrl-names = "default";
					pinctrl-0 = <&pinctrl_isi_pck_as_mck>;
				};
			};

			macb0: ethernet@f0028000 {
				status = "okay";
			};

			isi: isi@f0034000 {
				status = "disabled";
			};

			macb1: ethernet@f802c000 {
				status = "okay";
			};

			ssc0: ssc@f0008000 {
				status = "okay";
			};

			pinctrl@fffff200 {
				board {
					pinctrl_pck1_as_audio_mck: pck0_as_audio_mck {
						atmel,pins =
							<3 31 0x2 0x0>;	/* PD31 periph B */
					};
				};
			};
		};
	};

	gpio_keys {
		compatible = "gpio-keys";
		#address-cells = <1>;
		#size-cells = <0>;

		pb_user1 {
			label = "pb_user1";
			gpios = <&pioE 27 0>;
			linux,code = <0x100>;
			gpio-key,wakeup;
		};
	};

	sound {
		compatible = "atmel,sama5d3ek-sgtl5000";
		pinctrl-names = "default";
		pinctrl-0 = <&pinctrl_pck1_as_audio_mck>;

		atmel,model = "sgtl5000 @ SAMA5D3EK";
		atmel,audio-routing =
			"MIC_IN", "Mic Jack",
			"Mic Jack", "Mic Bias",
			"Headphone Jack", "HP_OUT";

		atmel,ssc-controller = <&ssc0>;
		atmel,audio-codec = <&sgtl5000>;
	};
};
